---
import Layout from "../layouts/Layout.astro";
---

<Layout title="Documentación - RAG Workshop">
	<div class="documentation-container">
		<div class="doc-header">
			<h1>Documentación del Workshop</h1>
			<p class="subtitle">Tecnologías y Recursos para el Sistema RAG</p>

			<div class="actions">
				<a class="button-primary" href="/data.json" download="marvel-quotes.json">
					Descargar Dataset (JSON)
				</a>
			</div>
		</div>

		<!-- Dataset Section -->
		<section class="doc-section">
			<h2>Dataset: Citas de Marvel</h2>
			<div class="content-box">
				<p>
					El archivo <code>data.json</code> contiene citas estructuradas
					de personajes de Marvel con metadatos semánticos. Este dataset
					será la base para nuestro sistema RAG.
				</p>

				<div class="json-structure">
					<h3>Estructura de los datos:</h3>
					<pre><code>{`{
  "character": "Tony Stark",
  "topic": "Tecnología e Innovación",
  "text": "Es nanotecnología, ¿te gusta?...",
  "tone": "Orgulloso, Técnico",
  "intent": "Presumir avance científico",
  "keywords": ["nanotecnología", "hardware", "reactor arc"]
}`}</code></pre>
				</div>

				<div class="characters-grid">
					<div class="character-card">
						<h4>Tony Stark</h4>
						<p>Tecnología e Innovación</p>
					</div>
					<div class="character-card">
						<h4>Steve Rogers</h4>
						<p>Valores Morales y Ética</p>
					</div>
					<div class="character-card">
						<h4>Thanos</h4>
						<p>Destrucción y Fin</p>
					</div>
					<div class="character-card">
						<h4>Peter Parker</h4>
						<p>Diversión y Juego</p>
					</div>
				</div>
			</div>
		</section>

		<!-- Technologies Section -->
		<section class="doc-section">
			<h2>Tecnologías del Colab</h2>
			<p class="section-intro">
				Stack completo de librerías Python que utilizaremos en el
				workshop para construir nuestro sistema RAG interactivo.
			</p>

			<div class="tech-grid">
				<!-- Data Processing -->
				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>Pandas (pd)</h3>
					</div>
					<p class="tech-description">
						Biblioteca fundamental para análisis y manipulación de
						datos en Python.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>
								Cargar archivo JSON en DataFrame con <code
									>pd.read_json()</code>
							</li>
							<li>
								Visualizar primeros datos con <code
									>df.head()</code>
							</li>
							<li>Procesar información de las citas</li>
							<li>Manipular y transformar datos estructurados</li>
						</ul>
					</div>
				</div>

				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>NumPy (np)</h3>
					</div>
					<p class="tech-description">
						Biblioteca para computación numérica, especialmente útil
						para trabajar con arrays.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>
								Obtener valores únicos con <code
									>np.unique()</code>
							</li>
							<li>Manejar embeddings como arrays numéricos</li>
							<li>Operaciones matemáticas eficientes</li>
							<li>Procesamiento de vectores de alta dimensión</li>
						</ul>
					</div>
				</div>

				<!-- NLP & Embeddings -->
				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>sentence-transformers</h3>
					</div>
					<p class="tech-description">
						Facilita la generación de embeddings de oraciones usando
						modelos pre-entrenados.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>
								Cargar modelo pre-entrenado con <code
									>SentenceTransformer</code>
							</li>
							<li>
								Convertir citas de Marvel en vectores numéricos
							</li>
							<li>Medir similitud semántica entre textos</li>
							<li>Base para el sistema de búsqueda RAG</li>
						</ul>
					</div>
				</div>

				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>transformers (AutoTokenizer)</h3>
					</div>
					<p class="tech-description">
						Ecosistema Hugging Face para modelos pre-entrenados de
						PLN.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>
								Tokenizar texto con <code>AutoTokenizer</code>
							</li>
							<li>Dividir texto en unidades (tokens)</li>
							<li>Preparar input para modelos de lenguaje</li>
							<li>Procesamiento previo a embeddings</li>
						</ul>
					</div>
				</div>

				<!-- Vector Database -->
				<div class="tech-card highlight">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>ChromaDB</h3>
					</div>
					<p class="tech-description">
						Base de datos vectorial para almacenar embeddings
						eficientemente.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>Almacenar embeddings generados</li>
							<li>
								Guardar textos originales y metadatos
								(personaje, topic)
							</li>
							<li>Realizar búsquedas de similitud rápidas</li>
							<li>Core del sistema de recuperación RAG</li>
						</ul>
					</div>
				</div>

				<!-- Machine Learning -->
				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>Scikit-learn (PCA)</h3>
					</div>
					<p class="tech-description">
						Biblioteca de aprendizaje automático para reducción de
						dimensionalidad.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>
								Aplicar PCA (Análisis de Componentes
								Principales)
							</li>
							<li>
								Reducir embeddings de alta dimensión a 2D/3D
							</li>
							<li>Facilitar visualización de vectores</li>
							<li>Análisis exploratorio de datos</li>
						</ul>
					</div>
				</div>

				<!-- Visualization -->
				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>Matplotlib & Seaborn</h3>
					</div>
					<p class="tech-description">
						Bibliotecas para crear gráficos estáticos en Python.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>Visualizar embeddings reducidos en 2D</li>
							<li>
								Observar agrupaciones de citas por personaje
							</li>
							<li>Crear gráficos estáticos de alta calidad</li>
							<li>Análisis visual de clusters</li>
						</ul>
					</div>
				</div>

				<div class="tech-card">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>Plotly Express</h3>
					</div>
					<p class="tech-description">
						Biblioteca para crear gráficos interactivos con
						facilidad.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>Generar visualización 3D de embeddings</li>
							<li>Interactividad: rotar, zoom, hover</li>
							<li>Ver detalles de cada cita al pasar el ratón</li>
							<li>Exploración inmersiva de datos vectoriales</li>
						</ul>
					</div>
				</div>

				<!-- Interface & LLM -->
				<div class="tech-card highlight">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>Gradio</h3>
					</div>
					<p class="tech-description">
						Crear interfaces web para modelos de ML con muy poco
						código.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>Construir aplicación interactiva RAG</li>
							<li>Interfaz de usuario para consultas</li>
							<li>
								Input de texto y visualización de respuestas
							</li>
							<li>Demo rápido y funcional</li>
						</ul>
					</div>
				</div>

				<div class="tech-card highlight">
					<div class="tech-header">
						<span class="tech-icon"></span>
						<h3>OpenAI Python Client</h3>
					</div>
					<p class="tech-description">
						Biblioteca oficial para interactuar con la API de
						OpenAI.
					</p>
					<div class="tech-usage">
						<strong>Uso en el proyecto:</strong>
						<ul>
							<li>Comunicarse con modelos LLM de OpenAI</li>
							<li>
								Generar respuestas basadas en contexto
								recuperado
							</li>
							<li>
								Integración del componente de generación en RAG
							</li>
							<li>
								Respuestas inteligentes con conocimiento
								específico
							</li>
						</ul>
					</div>
				</div>
			</div>
		</section>

		<!-- Resources -->
		<section class="doc-section">
			<h2>Recursos Adicionales</h2>
			<div class="resources-grid">
				<a href="/data.json" download="marvel-quotes.json" class="resource-link">
					<span class="resource-icon"></span>
					<div>
						<strong>data.json</strong>
						<p>Dataset completo de citas Marvel</p>
					</div>
				</a>
				<a href="/colab" class="resource-link">
					<span class="resource-icon"></span>
					<div>
						<strong>Google Colab</strong>
						<p>Configuración del entorno de trabajo</p>
					</div>
				</a>
				<a href="/open-ai" class="resource-link">
					<span class="resource-icon"></span>
					<div>
						<strong>OpenAI API</strong>
						<p>Setup de credenciales</p>
					</div>
				</a>
				<a href="/complementary-info" class="resource-link">
					<span class="resource-icon"></span>
					<div>
						<strong>Base Teórica</strong>
						<p>Cuándo usar RAG</p>
					</div>
				</a>
			</div>
		</section>
	</div>

	<style>
		:root {
			--bg-dark: #09090b;
			--bg-card: #18181b;
			--bg-card-hover: #27272a;
			--border-color: rgba(255, 255, 255, 0.1);
			--text-main: #f4f4f5;
			--text-muted: #a1a1aa;
			--gradient-title: linear-gradient(
				135deg,
				var(--accent-green) 0%,
				var(--accent-blue) 100%
			);
		}

		.documentation-container {
			max-width: 1400px;
			margin: 0 auto;
			padding: 60px 20px;
			color: var(--text-main);
			background-color: var(--bg-dark);
			min-height: 100vh;
		}

		.doc-header {
			text-align: center;
			margin-bottom: 80px;
		}

		.doc-header h1 {
			font-size: 3.5rem;
			line-height: 1.1;
			font-weight: 800;
			margin: 0 0 16px 0;
			letter-spacing: -0.02em;
			background: var(--gradient-title);
			-webkit-background-clip: text;
			-webkit-text-fill-color: transparent;
			background-clip: text;
		}

		.subtitle {
			font-size: 1.2rem;
			color: var(--text-muted);
			margin: 0 0 32px 0;
			max-width: 600px;
			margin-left: auto;
			margin-right: auto;
		}

		.actions {
			display: flex;
			justify-content: center;
			gap: 16px;
			margin-top: 32px;
		}

		.button-primary {
			display: inline-flex;
			align-items: center;
			gap: 8px;
			background: var(--text-main);
			color: var(--bg-dark);
			padding: 12px 24px;
			border-radius: 8px;
			font-weight: 600;
			text-decoration: none;
			transition: transform 0.2s;
		}

		.button-primary:hover {
			transform: scale(1.05);
		}

		.doc-section {
			margin-bottom: 60px;
		}

		.doc-section h2 {
			font-size: 2rem;
			margin-bottom: 24px;
			color: var(--text-main);
			font-weight: 700;
		}

		.section-intro {
			font-size: 1.1rem;
			color: var(--text-muted);
			margin-bottom: 32px;
			line-height: 1.6;
		}

		.content-box {
			background: var(--bg-card);
			border-radius: 16px;
			padding: 24px;
			border: 1px solid var(--border-color);
		}

		.content-box p {
			line-height: 1.8;
			color: var(--text-muted);
		}

		code {
			background: rgba(255, 255, 255, 0.1);
			padding: 0.2rem 0.5rem;
			border-radius: 4px;
			font-family: "Courier New", monospace;
			color: var(--text-main);
			font-size: 0.9em;
		}

		.json-structure {
			margin-top: 24px;
		}

		.json-structure h3 {
			color: var(--text-main);
			margin-bottom: 12px;
			font-size: 1.1rem;
		}

		.json-structure pre {
			background: #0f1115;
			padding: 16px;
			border-radius: 8px;
			overflow-x: auto;
			border: 1px solid var(--border-color);
		}

		.json-structure code {
			background: none;
			padding: 0;
			color: #e2e8f0;
			font-size: 0.85rem;
			line-height: 1.6;
		}

		.characters-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 16px;
			margin-top: 24px;
		}

		.character-card {
			background: var(--bg-card);
			padding: 16px;
			border-radius: 8px;
			border: 1px solid var(--border-color);
			text-align: center;
			transition: all 0.3s ease;
		}

		.character-card:hover {
			border-color: var(--text-muted);
			transform: translateY(-2px);
		}

		.character-card h4 {
			margin: 0;
			color: var(--text-main);
			font-size: 1.1rem;
		}

		.character-card p {
			margin: 8px 0 0;
			color: var(--text-muted);
			font-size: 0.85rem;
		}

		.tech-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
			gap: 24px;
		}

		.tech-card {
			background: var(--bg-card);
			border-radius: 16px;
			padding: 24px;
			border: 1px solid var(--border-color);
			transition: all 0.3s ease;
			display: flex;
			flex-direction: column;
		}

		.tech-card:hover {
			transform: translateY(-4px);
			box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
		}

		.tech-card.highlight {
			background: var(--bg-card);
		}

		.tech-header {
			display: flex;
			align-items: center;
			gap: 12px;
			margin-bottom: 16px;
		}

		.tech-icon {
			font-size: 1.5rem;
			opacity: 0.8;
		}

		.tech-header h3 {
			margin: 0;
			color: var(--text-main);
			font-size: 1.25rem;
		}

		.tech-description {
			color: var(--text-muted);
			line-height: 1.6;
			margin-bottom: 16px;
		}

		.tech-usage {
			margin-top: 16px;
		}

		.tech-usage strong {
			color: var(--text-main);
			display: block;
			margin-bottom: 8px;
			font-size: 0.9rem;
		}

		.tech-usage ul {
			margin: 0;
			padding-left: 20px;
		}

		.tech-usage li {
			color: var(--text-muted);
			margin-bottom: 6px;
			line-height: 1.6;
			font-size: 0.9rem;
		}

		.flow-diagram {
			display: flex;
			align-items: center;
			justify-content: space-between;
			flex-wrap: wrap;
			gap: 16px;
		}

		.flow-step {
			flex: 1;
			min-width: 150px;
			background: var(--bg-card);
			padding: 20px;
			border-radius: 12px;
			border: 1px solid var(--border-color);
			text-align: center;
			transition: all 0.3s ease;
		}

		.flow-step:hover {
			border-color: var(--text-muted);
			transform: translateY(-2px);
		}

		.step-number {
			width: 36px;
			height: 36px;
			background: rgba(255, 255, 255, 0.1);
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			margin: 0 auto 12px;
			font-weight: bold;
			font-size: 1rem;
			color: var(--text-main);
			border: 1px solid var(--border-color);
		}

		.flow-step h4 {
			margin: 8px 0;
			color: var(--text-main);
			font-size: 1rem;
		}

		.flow-step p {
			margin: 0;
			font-size: 0.85rem;
			color: var(--text-muted);
		}

		.flow-arrow {
			font-size: 1.5rem;
			color: var(--text-muted);
			flex-shrink: 0;
		}

		.resources-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 24px;
		}

		.resource-link {
			display: flex;
			align-items: center;
			gap: 16px;
			background: var(--bg-card);
			padding: 20px;
			border-radius: 12px;
			border: 1px solid var(--border-color);
			text-decoration: none;
			color: var(--text-main);
			transition: all 0.3s ease;
		}

		.resource-link:hover {
			transform: translateY(-4px);
			box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
			border-color: var(--text-muted);
		}

		.resource-icon {
			font-size: 2rem;
			opacity: 0.8;
		}

		.resource-link strong {
			display: block;
			color: var(--text-main);
			margin-bottom: 4px;
			font-size: 1rem;
		}

		.resource-link p {
			margin: 0;
			font-size: 0.85rem;
			color: var(--text-muted);
		}

		@media (max-width: 768px) {
			.doc-header h1 {
				font-size: 2.5rem;
			}

			.tech-grid {
				grid-template-columns: 1fr;
			}

			.flow-diagram {
				flex-direction: column;
			}

			.flow-arrow {
				transform: rotate(90deg);
			}

			.documentation-container {
				padding: 40px 16px;
			}
		}
	</style>
</Layout>
